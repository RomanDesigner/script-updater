#!/bin/bash
echo "Server version:"
cd /home/$USER/prepare/tmp/ && cat roman.ver
read -r -p "Are you sure? [y/N] " response
case "$response" in
    [yY][eE][sS]|[yY]) 
       echo "Update started..."
        ;;
    *)
        echo "Update canceled."
        exit 0
        ;;
esac
cd /home/$USER/prepare/tmp/ && cp roman.ver version.txt
echo -ne "25%"
cd /home/$USER/prepare/tmp/ && cp version.txt /home/$USER/bin/prepare/version/version.txt
echo -ne "50%"
git clone -q https://github.com/RomanDesigner/script /home/$USER/prepare/scrtmp/
echo -ne "75%"
cd /home/$USER/prepare/scrtmp/ && cp prepare /home/$USER/bin/prepare/prepare
cd /home/$USER/prepare/ && rm -Rf tmp
cd /home/$USER/prepare/ && rm -Rf scrtmp
echo -ne "100%"
read -r -p "Are you sure? [y/N] " response
case "$response" in
    [yY][eE][sS]|[yY]) 
       echo "Ok"
       prepare
       exit 0
        ;;
    *)
        echo "Ok"
        exit 0
        ;;
esac
